%{
%}

S               [ \t\v\n\r]
X               (ab|ba)
Y               (aabb|bbaa|bbbaa|aabbb)
Z1              b+({X}|{Y})b*({X}|{Y})b*
Z2              b*({X}|{Y})b+({X}|{Y})b*
Z3              b*({X}|{Y})b*({X}|{Y})b+

%%

{Z1}|{Z2}|{Z3}      printf("accepted: %s\n", yytext);
{S}*            { /* doing nothing */ }
.*              printf("rejected: %s\n", yytext);

%%

int main(int argc, char *argv[]) {
    yylex();
    return 0;
}